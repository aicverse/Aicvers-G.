<script <script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabaseUrl = 'https://cnkjkublhqqsfryqjdwu.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNua2prdWJsaHFxc2ZyeXFqZHd1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MjQ1NzIsImV4cCI6MjA2ODUwMDU3Mn0.BceVsKCoBby3wuk5uLJFgXzrDp2Aeo9kwnWRLV2elwg';
  const supabase = createClient(supabaseUrl, supabaseKey);

  async function loadProfile() {
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return window.location.href = 'login.html';

    const { data, error } = await supabase
      .from('users')
      .select('*')
      .eq('id', user.id)
      .single();

    if (data) {
      document.getElementById('username').textContent = data.username || 'N/A';
      document.getElementById('email').textContent = data.email || 'N/A';
      document.getElementById('signed_player').textContent = data.signed_player || 'N/A';
      document.getElementById('belt').textContent = data.belt || 'None';
      document.getElementById('coins').textContent = data.coins || '0';
      document.getElementById('respect').textContent = data.respect || '0';
    } else {
      console.error('User data not found:', error);
    }
  }

  async function logout() {
    await supabase.auth.signOut();
    window.location.href = 'login.html';
  }

  loadProfile();
</script>ï¿¼Enter
